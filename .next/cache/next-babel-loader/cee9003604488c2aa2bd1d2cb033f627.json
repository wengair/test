{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport { useState, useContext, useEffect } from 'react';\nimport { UserContext } from 'pages/index';\n\nfunction useLogin() {\n  _s();\n\n  var userInfo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Guest';\n\n  var _useState = useState(false),\n      login = _useState[0],\n      setLogin = _useState[1];\n\n  var _useState2 = useState(''),\n      name = _useState2[0],\n      setName = _useState2[1]; // const user = {login: false, name: ''}\n\n\n  var user = useContext(UserContext);\n  console.log('in useLogin'); // console.log(`user = ${user}`)\n  // console.log(`user.name = ${user.name}`)\n  // console.log(`user.login = ${user.login}`)\n  // var WPAPI = require( 'wpapi' );\n  // var wp = new WPAPI({\n  //     endpoint: 'localhost:80/wp-json',\n  //     username: 'wengyagami@hotmail.com',\n  //     password: '4%'\n  // });\n  // console.log(wp.users().me())\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var result;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch('localhost:80/wp-json/wp-json/jwt-auth/v1/token', {\n              method: 'POST'\n            }).then(function (res) {\n              console.log(res);\n            })[\"catch\"](function (err) {\n              console.log(err);\n            });\n\n          case 2:\n            result = _context.sent;\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), []);\n\n  var isLogin = function isLogin() {\n    user.login;\n  };\n\n  var userLogin = function userLogin(userInfo) {\n    user.login = true;\n    user.name = userInfo; // console.log(user.login)\n    // console.log(user.name)\n  };\n\n  var userLogout = function userLogout(userInfo) {\n    user.login = false;\n    user.name = 'Guest';\n  };\n\n  return [login, userLogin, userLogout];\n}\n\n_s(useLogin, \"NGhPSoJ/Y6tpeACK29UiDVd8d04=\");\n\nexport default useLogin;","map":{"version":3,"sources":["/Users/jtweng/Desktop/record/OSU/mac/practice/docker/test/client/components/useLogin.js"],"names":["useState","useContext","useEffect","UserContext","useLogin","userInfo","login","setLogin","name","setName","user","console","log","fetch","method","then","res","err","result","isLogin","userLogin","userLogout"],"mappings":";;;;;AAAA,SAAQA,QAAR,EAAkBC,UAAlB,EAA8BC,SAA9B,QAA8C,OAA9C;AACA,SAAQC,WAAR,QAA0B,aAA1B;;AAEA,SAASC,QAAT,GAAsC;AAAA;;AAAA,MAApBC,QAAoB,uEAAT,OAAS;;AAAA,kBACVL,QAAQ,CAAC,KAAD,CADE;AAAA,MAC7BM,KAD6B;AAAA,MACtBC,QADsB;;AAAA,mBAEZP,QAAQ,CAAC,EAAD,CAFI;AAAA,MAE7BQ,IAF6B;AAAA,MAEvBC,OAFuB,kBAGpC;;;AACA,MAAMC,IAAI,GAAGT,UAAU,CAACE,WAAD,CAAvB;AACAQ,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EALoC,CAMpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAIAV,EAAAA,SAAS,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACaW,KAAK,CAAC,gDAAD,EAAmD;AAAEC,cAAAA,MAAM,EAAE;AAAV,aAAnD,CAAL,CACAC,IADA,CACK,UAAAC,GAAG,EAAE;AACTL,cAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD,aAHA,WAIM,UAAAC,GAAG,EAAE;AACVN,cAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,aANA,CADb;;AAAA;AACFC,YAAAA,MADE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAQN,EARM,CAAT;;AAUA,MAAMC,OAAO,GAAG,SAAVA,OAAU,GAAK;AACnBT,IAAAA,IAAI,CAACJ,KAAL;AACD,GAFD;;AAIA,MAAMc,SAAS,GAAG,SAAZA,SAAY,CAACf,QAAD,EAAe;AAC/BK,IAAAA,IAAI,CAACJ,KAAL,GAAa,IAAb;AACAI,IAAAA,IAAI,CAACF,IAAL,GAAYH,QAAZ,CAF+B,CAG/B;AACA;AACD,GALD;;AAOA,MAAMgB,UAAU,GAAG,SAAbA,UAAa,CAAChB,QAAD,EAAe;AAChCK,IAAAA,IAAI,CAACJ,KAAL,GAAa,KAAb;AACAI,IAAAA,IAAI,CAACF,IAAL,GAAY,OAAZ;AACD,GAHD;;AAKA,SAAO,CAACF,KAAD,EAAQc,SAAR,EAAmBC,UAAnB,CAAP;AACD;;GA/CQjB,Q;;AAiDT,eAAeA,QAAf","sourcesContent":["import {useState, useContext, useEffect} from 'react'\nimport {UserContext} from 'pages/index'\n\nfunction useLogin(userInfo = 'Guest') {\n  const [login, setLogin] = useState(false)\n  const [name, setName] = useState('')\n  // const user = {login: false, name: ''}\n  const user = useContext(UserContext)\n  console.log('in useLogin')\n  // console.log(`user = ${user}`)\n  // console.log(`user.name = ${user.name}`)\n  // console.log(`user.login = ${user.login}`)\n  // var WPAPI = require( 'wpapi' );\n  // var wp = new WPAPI({\n  //     endpoint: 'localhost:80/wp-json',\n  //     username: 'wengyagami@hotmail.com',\n  //     password: '4%'\n  // });\n\n  // console.log(wp.users().me())\n\n\n\n  useEffect(async () => {\n    const result = await fetch('localhost:80/wp-json/wp-json/jwt-auth/v1/token', { method: 'POST'})\n                        .then(res=>{\n                          console.log(res)\n                        })\n                        .catch(err=>{\n                          console.log(err)\n                        })\n  }, []);\n\n  const isLogin = () =>{\n    user.login\n  }\n\n  const userLogin = (userInfo)  => {\n    user.login = true\n    user.name = userInfo\n    // console.log(user.login)\n    // console.log(user.name)\n  }\n\n  const userLogout = (userInfo)  => {\n    user.login = false\n    user.name = 'Guest'\n  }\n\n  return [login, userLogin, userLogout]\n}\n\nexport default useLogin\n"]},"metadata":{},"sourceType":"module"}